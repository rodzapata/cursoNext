<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Curso de NextJS 16</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <h1>Curso de Next JS 16</h1>
  <h2>Indice Tematico</h2>
  <ul>
    <li><a href="cursoNext.html#referencia">Referencias</a></li>
    <li><a href="cursoNext.html#instalacion">Instalacion iniciales</a></li>
    <li><a href="cursoNext.html#approuter">App Router</a></li>
    <li><a href="cursoNext.html#layout">page.jsx y layout.js</a></li>
    <li><a href="cursoNext.html#carpetas">manejo de carpetas</a></li>
    <li><a href="cursoNext.html#link">Link</a></li>
    <li><a href="cursoNext.html#metadata">MetaData</a></li>
    <li><a href="cursoNext.html#fuentes">Fuentes</a></li>
    <li><a href="cursoNext.html#not-found">Not found</a></li>
    <li><a href="cursoNext.html#rsp">Read Server Components</a></li>
    <li><a href="cursoNext.html#fetch">Fetch Data</a></li>
    <li><a href="cursoNext.html#loading">loading page</a></li>
    <li><a href="cursoNext.html#params">parametros (params)</a></li>
  </ul>


  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="referencia">Referencias</h2>
  <article>
    tutorial de Fazt <a href="https://www.youtube.com/watch?v=_SPoSMmN3ZU&t=158s" target="_blank"
      rel="noopener noreferrer">NextJS</a> <br>
    lo primero es crear el proyecto de NextJS : <br>
    Tambien hay un curso de Next por Johanatan Mircha <a href="https://www.youtube.com/watch?v=r5fkL5_rB70&t=2681s"
      target="_blank" rel="noopener noreferrer">Next por Johnatan Mircha</a> <br>
    curso de NextJS en tres partes <a href="https://www.youtube.com/watch?v=c_DPfd85qTM" target="_blank"
      rel="noopener noreferrer">NextJS por AnjrtoDev</a> <br>
    NextJS 16 + strapi 5 creado por midudev <a href="https://www.youtube.com/watch?v=VosHdPQr6nI" target="_blank"
      rel="noopener noreferrer">NextJs 16 + strapi</a> <br>
    Este curso está actualizado y en ingles con buena pronunciacion <a href="https://www.youtube.com/watch?v=L5CsIkO5xv4" target="_blank" rel="noopener noreferrer">NextJS 16 FullStack Course - Build an Inventory Management Website</a>  <br>
    por PedroTech. <br>
    otro curso actualizado con la version 16 y tambien en ingles es <a href="https://www.youtube.com/watch?v=tI_Nt32_4wM" target="_blank" rel="noopener noreferrer">NextJS 16 por Ankita Kulmani</a> <br>



  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="Instalacion">Instalacion Inicial</h2>
  <article>
    para crear un proyecto de NextJS se realiza los siguientes pasos: <br>
    <pre>
      npx create-next-app@latest projnext1
    </pre>
    ejecutamos el proyecto de nextJS
    <pre>
      npm run dev
    </pre>

  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="approuter">App Router</h2>
  <article>
    Esta es la forma de enrutar utilizando carpetas, remplaza el uso de <strong>react-router-dom</strong> de react puro.
    <br>

  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="layout">Layout</h2>
  <article>
    el codigo del <strong>layout.js</strong> como minimo debe tener el siguiene codigo: <br>
    <br>
    <pre>
      <code>
        export const metadata = {
          title: "Mi App",
          description: "Descripción",
        };
        
        export default function RootLayout({ children }) {
          return (
            &lt;html lang="es">
              &lt;body>{children}&lt;/body>
            &lt;/html>
          );
        }

      </code>
    </pre>
    y el codigo de <strong>page.jsx</strong>basico seria: <br>
    <pre>
      <code>
        export default function Home(){
           return &lt;h1>Bienvenido&lt;/h1>
        }        

      </code>
    </pre>
  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="carpetas">carpetas</h2>
  <article>
    el nombre que le coloquemos a la carpeta por ejemlo <strong>about</strong> es el nombre de ruta que aparecerá en el
    navegador: <br>
    Hay casos en el que manejar subcarpetas por ejemplo <strong>settings</strong> y dentro de esta vamos a tener 2
    subcarpetas llamadas: <br>
    <strong>users</strong> y <strong>roles</strong>, tambien podria haber recuperar contraseña, etc. <br>
    Entoces necesitamos que todas las opciones que dependen de configuracion, tenga su propio
    <strong>layout.jsx</strong> diferente al <strong>layot.jsx</strong> que <br>
    envuelve todo. <br>


  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="link">Link</h2>
  <article>
    el <strong>link</strong> remplaza a <strong><a href="http://"></a></strong>, porque este recarga toda la pagina y el
    link si es reactivo, <br>
    renderizando solo la parte del <strong>Link</strong> que cambia. <br>
    el codigo en <strong>layout.js</strong> habria que importar <strong>next/link</strong> y cambiar la etiequeta
    <strong><a href=""></a></strong> por link: <br>
    <pre>
      <code>

        import Link from "next/link";
        
        export const metadata = {
          title: "Mi App",
          description: "Descripción",
        };
        
        export default function RootLayout({ children }) {
          return (
            &lt;html lang="es">
              &lt;nav>
                &lt;ul>
                  &lt;li>&lt;Link href="/">Home&lt;/Link>&lt;/li>
                  &lt;li>&lt;Link href="/about">About&lt;/Link>&lt;/li>
                &lt;/ul>
              &lt;/nav>
           
              &lt;body>{children}&lt;/body>
            &lt;/html>
          );
        }

      </code>
    </pre>
    como podemos observar esta parte de navegacion la podemos hacer en un componente independiente y luego lo importamos
    desde el <strong>layout.jsx</strong> <br>
    asi que crearemos un componente en la misma posicion llamada <strong>Navbar.jsx</strong> <br>
    <pre>
      <code>

        import Link from "next/link";
        export default function Navbar() {
            return (
                &lt;nav>
                    &lt;ul>
                        &lt;li>&lt;Link href="/">Home&lt;/Link>&lt;/li>
                        &lt;li>&lt;Link href="/about">About&lt;/Link>&lt;/li>
                    &lt;/ul>
                &lt;/nav>
            )
        }

      </code>
    </pre>
    y el <strong>layout.jsx</strong> quedaria de la siguinte forma: <br>
    <pre>
      <code>
        
        import Navbar from "./navbar";
        export const metadata = {
          title: "Mi App",
          description: "Descripción",
        };
        
        export default function RootLayout({ children }) {
          return (
            &lt;html lang="es">
              &lt;body>
                &lt;Navbar />
                {children}
              &lt;/body>
            &lt;/html>
          );
        }
      </code>
    </pre>

  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="metadata">Metadata</h2>
  <article>
    Metadata en Next.js es la forma oficial de configurar el SEO y la información del documento HTML para cada página o
    layout. <br>
    Sirve para: <br>

    ✔ Título de la página <br>
    ✔ Descripción SEO <br>
    ✔ Palabras clave <br>
    ✔ Favicon <br>
    ✔ Open Graph (Facebook, WhatsApp, Instagram) <br>
    ✔ Twitter Cards <br>
    ✔ Robots <br>
    ✔ Lenguaje <br>
    ✔ Metadata dinámica según la ruta <br><br>

    ejemplo: <br>
    <pre>
      <code>
        export const metadata = {
          title: "Mi App",
          description: "Descripción",
        };

      </code>
    </pre>

  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="fuentes">Fuentes</h2>
  <article>
    todas las fuentes de <strong>google.com</strong> ya estan incluida en <strong>NextJS</strong>, lo unico que tenemos
    que hacer es importarla <br>
    por ejemplo en nuestro <strong>layout.jsx</strong> principal vamos importar la fuente <strong>roboto</strong> de la
    siguiente forma: <br>
    <pre>
      <code>
        import Navbar from "./navbar";
        import { Roboto } from "next/font/google"
        
        export const metadata = {
          title: "Mi App",
          description: "Descripción",
        };
        
        const roboto = Roboto({
          weight: ["300", "400", "500", "700"],
          styles: ["italic", "normal"],
          subset: ["latin"]
        }
        
        )
        
        export default function RootLayout({ children }) {
          return (
            &lt;html lang="es">
              &lt;body className={roboto.className}>
                &lt;Navbar />
                {children}
              &lt;/body>
            &lt;/html>
          );
        }


      </code>
    </pre>
  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="not-found">not found</h2>
  <article>
    dentro de la capeta principal <strong>/app</strong> crearmos una pagina <strong>not-found.jsx</strong> y colocamos
    el <br>
    el siguiente codigo: <br>
    <pre>
      <code>

        import Link from "next/link"
        export default function NotFound() {
            return (
                &lt;>
                    &lt;h1>pagina no encontrada -404&lt;/h1>
                    &lt;p>Lo sentimos, la pagina que buscas no existe. &lt;/p>
                    &lt;Link href="/">volver al inicio&lt;/Link>
                &lt;/>
            )
        }

      </code>
    </pre>
  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="rsp">React Server Components</h2>
  <article>
    consiste en que las paginas no se renderizar del lado del cliente sino del lado del servidor, si tenemos un
    componente <br>
    que necesita utilizar <strong>useState, useEffect, useContext, guardar en localstorage, uso de eventos como : onClick, onChange,
      etc.</strong> cuando esto ocurre tenemos que anteponerle a
    nuestro componente <br>
    la instruccion <strong>use client</strong> <br>
    la idea es que si vamos a trabajar con <strong>fetch, </strong> usemos del lado del servidor. <br>

    <pre>

      En Next.js la regla de oro es:

  ✅ Usa código del servidor (Server Components o Server Actions) cuando:

  1. Necesitas acceder de forma segura a datos sensibles
    Claves de API
    Conexión directa a bases de datos (PostgreSQL, MySQL, MongoDB)
    Tokens privados
    Lógica que NO debe llegar al navegador

  2. Necesitas cargar datos antes de renderizar la página
    fetch() directo a una API
    Consultas a la base de datos
    Generar HTML listo para SEO

  3. Quieres mejor performance y SEO
    Server Components no envían JavaScript al cliente
    Menos peso → más rápido
    Perfecto para páginas de blogs, cursos, ecommerce, etc.

  4. Operaciones pesadas
    Procesamiento de archivos
    Validaciones grandes
    Cálculos que no deben ejecutarse en el navegador
    </pre>

  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="fetch">Fetch Data</h2>
  <article>
      para consultar una api externa se puede realizar una funcion del lado del servidor, es mejor de react puro que solo se puede hacer del lado del cliente. <br>
      por ejemplo vamos a crear un <strong>post</strong> que consulta una api externa vero lo vamos hacer sin <strong>fetch</strong> <br>
      quedando el codigo de nuestro <strong>post.jsx</strong> asi: <br>
      <pre>
        <code>
          async function LoadPosts() {
            let ruta = "https://jsonplaceholder.typicode.com/posts"
            const res = await fetch(ruta);
            const data = await res.json();
            return data;
          
          }
          
          
          const Post = async () =&lt; {
          
            const posts = await LoadPosts();
          
            return (
              &lt;div>
                &lt;h1>Posts&lt;/h1>
                {
                  posts.map(post => (
                    &lt;ul key={post.id}>;
                      &lt;h3>{post.id} - {post.title}&lt;/h3>
                      &lt;p>{post.body}&lt;/p>
                    &lt;/ul>
                  )
                  )
                }
          
              &lt;/div>
            )
          }
          
          export default Post          

        </code>
      </pre>
      En caso que queremos agregar un boton y un evento <strong>onClick</strong> entonces tenemos que agregar un componente por separado <br>
      para no solo agregar el <strong>"use client"</strong> donde necesitamos el botont. <br>
      crearemos dentro de la carpeta <strong>components</strong> y el componente se llamará <strong>PostCard.jsx</strong> <br>
      <pre>
        <code>
          
          "use client"
          export const PostCard = ({ post }) => {
          
            return (
              &lt;div>
                {
          
                  &lt;ul key={post.id}>
                    &lt;h3>{post.id} - {post.title}&lt;/h3>
                    &lt;p>{post.body}&lt;/p>
                    &lt;button onClick={() => ( alert("click ejecutandose") )}>
                      click
                    &lt;/button>
                  &lt;/ul>
          
                }
              </div>
            )
          }
          
        </code>
      </pre>
      y nuestro <strong>post</strong> llamando al componente quedaria: <br>
      <pre>
        <code>
          import { PostCard } from "../components/PostCard";
          
          async function LoadPosts() {
            let ruta = "https://jsonplaceholder.typicode.com/posts"
            const res = await fetch(ruta);
            const data = await res.json();
            return data;
          
          }
          
          const Post = async () => {
            const posts = await LoadPosts();
          
            return (
              &lt;div>
                {
                  posts.map((post) => (
                    &lt;PostCard post={post} key={post.id}></PostCard>
                  )
                  )
                }
              &lt;/div>
            )
          }
          
          export default Post
         
        </code>
      </pre>

  </article>

  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="loading">Loading Page</h2>
  <article>
    cuando nuestra pagina ejecuta un proceso que demora no queremos que el usuario piense que esta bloqueado, entonces lo que hacemos <br>
    es crear una pagina que diga <strong>loading ...</strong> mientras se ejecuta el proceso asincronico. <br>
    para simular que la respuesta se demora 4 segunto crearemos una promesa con el siguiente codigo : <br>
    <pre>
      <code>
        await new Promise((resolve, reject) => {
            setTimeout(() => { resolve("promesa resuelta") }, 4000);
          }        
        )
      </code>
    </pre>
    ahora detro de la carpeta <strong>post</strong> crearemos el archivo <strong>loading.jsx</strong> con el siguiente codigo:
    <pre>
      <code>
       
        export default function loading() {
          return (
            <div>loading....</div>
          )
        }
        
      </code>
    </pre>
  </article>
  
  <a href="cursoNext.html">⏫</a>
  <hr />
  <h2 id="params">Parametros (params)</h2>
  <article>
    Se usa cuando se tiene rutas dinamicas que se para un valor como parametro por ejemplo : <br>
    /posts/[postId] <br>
    /users/[userId] <br>
    /products/[slug] <br><br>

  <strong>Nota: </strong>    
  a partir de version 15 para recibir el parametros debe crearse un funcion asincronica y no una simple funcion, <br>
  por eso era que generaba error mi codigo, entonces quedaria así:
  <pre>
    <code>
      export default async function Page({ params }) {
           const { postId } = await params; 
          return (
              &lt;>
                  &lt;h2>Prueba {postId}&lt;/h2>
              &lt;/>
          )
      }      

    </code>
  </pre>

  Ahora queremos que cada vez que pase por parameto el <strong>postId</strong> llame a siguiente ruta : <br>
  https://jsonplaceholder.typicode.com/posts/1, donde el numero 1 es el parametro que estamos pasando el codigo seria : <br>
  <pre>
    <code>
      async function loadPost(id) {
          const resp = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`);
          const data = await resp.json()
          return data;
      }
      
      
      export default async function Page({ params }) {
          const { postId } = await params;
      
          const post = await loadPost(postId);
      
          return (
              &lt;>
                  &lt;h2>post {postId} - {post.title}&lt;/h2>
                  &lt;p>{post.body}&lt;/p>
              &lt;/>
          )
      }
    </code>
  </pre>
  Pero como la idea es no tener que estar teclando desde el navegador y la url con el Id conrrespondiente, entonces crearemos un link <br>
  en <strong>postCard.jsx</strong> quedando el codigo de la siguiente forma: <br>
  <pre>
    <code>
      "use client"
      import Link from "next/link"
      export const PostCard = ({ post }) => {
      
        return (
          &lt;div>
            {
      
              &lt;ul key={post.id}>
      
                &lt;Link href={`/post/${post.id}`}>
                  &lt;h3>{post.id} - {post.title}&lt;/h3>
                &lt;/Link>
                &lt;p>{post.body}&lt;/p>
                &lt;button onClick={() => { alert("click ejecutandose") }}>
                  click
                &lt;/button>
              &lt;/ul>
      
            }
          &lt;/div>
        )
      }

      
    </code>
  </pre>
  </article>


</body>

</html>